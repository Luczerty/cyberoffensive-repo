{% extends "base.html" %}

{% block content %}
<div class="container py-4">
  <h1 class="mb-4">📖 Guide d’installation et d’utilisation – Projet Phishing Demo</h1>

  <h2>🚀 Présentation</h2>
  <p>Ce projet est une application <strong>Flask</strong> qui simule une campagne de phishing. Il permet :</p>
  <ul>
    <li>📧 d’envoyer des emails piégés (faux Slack par défaut)</li>
    <li>📊 de collecter les événements (<em>mails ouverts, liens cliqués, pièces jointes téléchargées</em>)</li>
    <li>🔐 de capter les identifiants saisis dans une fausse page de connexion</li>
    <li>🖥️ de visualiser tous les résultats dans une interface simple</li>
  </ul>

  <div class="alert alert-warning">
    ⚠️ Ce projet est uniquement destiné à un usage pédagogique ou dans un cadre légal (tests de sécurité, sensibilisation).
  </div>

  <h2>🛠️ Installation</h2>

  <h3>1. Prérequis</h3>
  <ul>
    <li>Python <code>3.10+</code></li>
    <li><code>pip</code> (gestionnaire de packages Python)</li>
    <li>Un compte email SMTP valide <br>
        👉 ou lancer <code>docker-compose up</code> avec <strong>MailHog</strong> pour tester en local</li>
  </ul>

  <h3>2. Récupération du projet</h3>
  <pre><code>git clone https://github.com/Luczerty/phisingproject
cd phisingproject
</code></pre>

  <h3>3. Création de l’environnement virtuel</h3>
  <pre><code>python3 -m venv venv
source venv/bin/activate   # Linux/macOS
venv\Scripts\activate      # Windows
</code></pre>

  <h3>4. Installation des dépendances</h3>
  <pre><code>pip install -r requirements.txt
</code></pre>

  <h3>5. Configuration</h3>
  <p>Ouvrir <code>app.py</code> et adapter les variables SMTP :</p>
  <pre><code>SMTP_SERVER = "smtp.gmail.com"
SMTP_PORT = 587
FROM_EMAIL = "exemple@gmail.com"
FROM_PASSWORD = "motdepasse-ou-token"
</code></pre>

  <h3>6. Lancer l’application</h3>
  <pre><code>python app.py
</code></pre>
  <p>Puis ouvrir 👉 <a href="http://localhost:3000" target="_blank">http://localhost:3000</a> (ou votre adresse IP privée).</p>

  <hr />

  <h2>📷 Interface utilisateur</h2>
  <ul>
    <li><strong>Accueil (<code>/</code>)</strong> → résumé des campagnes, événements et identifiants capturés. Envoi rapide d’un mail.</li>
    <li><strong>Création d’une campagne (<code>/campaigns</code>)</strong> → ajout de destinataires + description.</li>
    <li><strong>Exemple d’email reçu</strong> → faux mail Slack (modifiable).</li>
    <li><strong>Page de connexion factice</strong> → saisie email + mot de passe, sauvegardés dans <code>data/credentials.csv</code>.</li>
    <li><strong>Visualisation (<code>/visualize</code>)</strong> → affichage des événements et identifiants capturés.</li>
  </ul>

  <hr />

  <h2>📂 Structure du projet</h2>

  <h3>📑 Fichiers de données</h3>
  <ul>
    <li><code>data/events.csv</code> → événements (mails ouverts, clics, téléchargements…)</li>
    <li><code>data/credentials.csv</code> → identifiants capturés</li>
    <li><code>data/campaigns.json</code> → configuration des campagnes</li>
    <li><code>data/hash_mapping.json</code> → correspondance hash ↔ email</li>
  </ul>

  <hr />

  <h2>📖 Documentation – Personnalisation</h2>

  <h3>Changer la Landing Page</h3>
  <p>La landing page est affichée lorsqu’un utilisateur clique sur le lien reçu par mail.</p>
  <p>Par défaut, le projet utilise :</p>
  <pre><code>return render_template("landing.html", hash_id=hash_id)
</code></pre>
  <p>Pour utiliser une autre landing page :</p>
  <pre><code>return render_template("landing_microsoft.html", hash_id=hash_id)
</code></pre>
  <p>👉 Exemples de variantes possibles :</p>
  <pre><code>landing_slack.html      → imitation Slack
landing_microsoft.html  → imitation Microsoft
landing_google.html     → imitation Google
</code></pre>
  <p><strong>Astuce :</strong> conserve la même structure et change seulement le design (logo, couleurs, textes).</p>

  <h3>Changer le Mail envoyé</h3>
  <p>Le contenu du mail est défini dans la fonction <code>send_phishing_email</code>.</p>

  <p><strong>Sujet du mail</strong></p>
  <pre><code>msg["Subject"] = "🔒 Test de sensibilisation interne"
</code></pre>
  <p>➡️ Exemple modifié :</p>
  <pre><code>msg["Subject"] = "⚠️ Connexion Microsoft requise"
</code></pre>

  <p><strong>Template du mail</strong></p>
  <pre><code>templates/emails/phishing_email.html</code></pre>
  <p>👉 Tu peux créer d’autres variantes :</p>
  <pre><code>emails/slack_email.html → mail Slack
emails/ms_email.html    → mail Microsoft
</code></pre>

  <hr />

  <h2>✅ Résumé rapide</h2>
  <ul>
    <li>Modifier <code>templates/landing.html</code> → pour changer la landing page</li>
    <li>Modifier <code>templates/emails/phishing_email.html</code> → pour changer le mail</li>
    <li>Modifier <code>msg["Subject"]</code> → pour changer l’objet du mail</li>
  </ul>
</div>
{% endblock %}
